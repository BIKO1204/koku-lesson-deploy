{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yukia/Downloads/koku-lesson-planner/app/login/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useSession, signIn } from \"next-auth/react\";\r\n\r\nexport default function LoginPage() {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pw, setPw] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // ログイン済みならリダイレクト\r\n  useEffect(() => {\r\n    if (status === \"authenticated\") {\r\n      // 型安全にaccessTokenをチェックしてlocalStorageに保存\r\n      if (session && typeof (session as any).accessToken === \"string\") {\r\n        localStorage.setItem(\"googleAccessToken\", (session as any).accessToken);\r\n      }\r\n      router.replace(\"/\");\r\n    }\r\n  }, [session, status, router]);\r\n\r\n  if (status === \"loading\") {\r\n    return null; // 読み込み中は何も表示しない\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    if (!email.trim() || pw.length < 6) {\r\n      setError(\"有効なメールアドレスと6文字以上のパスワードを入力してください。\");\r\n      return;\r\n    }\r\n    try {\r\n      // ここはfirebaseログインなど独自のlogin関数ならそれに置き換えてください\r\n      await signIn(\"credentials\", { email: email.trim(), password: pw });\r\n    } catch (e: any) {\r\n      setError(\"ログインに失敗しました。\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main\r\n      style={{\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"100vh\",\r\n        background: \"#f2f2f5\",\r\n        padding: \"2rem\",\r\n        boxSizing: \"border-box\",\r\n        fontFamily: \"sans-serif\",\r\n      }}\r\n    >\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        style={{\r\n          width: \"100%\",\r\n          maxWidth: 480,\r\n          background: \"#fff\",\r\n          borderRadius: 16,\r\n          boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n          padding: \"2rem\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          gap: \"1.5rem\",\r\n        }}\r\n      >\r\n        <h1 style={{ fontSize: \"2rem\", textAlign: \"center\", margin: 0 }}>\r\n          ログイン\r\n        </h1>\r\n\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"メールアドレス\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n          style={{\r\n            width: \"100%\",\r\n            padding: \"1rem\",\r\n            fontSize: \"1.4rem\",\r\n            borderRadius: 8,\r\n            border: \"1px solid #ccc\",\r\n            boxSizing: \"border-box\",\r\n          }}\r\n        />\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"パスワード（6文字以上）\"\r\n          value={pw}\r\n          onChange={(e) => setPw(e.target.value)}\r\n          required\r\n          style={{\r\n            width: \"100%\",\r\n            padding: \"1rem\",\r\n            fontSize: \"1.4rem\",\r\n            borderRadius: 8,\r\n            border: \"1px solid #ccc\",\r\n            boxSizing: \"border-box\",\r\n          }}\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          style={{\r\n            width: \"100%\",\r\n            padding: \"1rem\",\r\n            fontSize: \"1.4rem\",\r\n            backgroundColor: \"#1976d2\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            borderRadius: 8,\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          ログイン\r\n        </button>\r\n\r\n        {error && (\r\n          <p style={{ color: \"red\", textAlign: \"center\", fontSize: \"1.2rem\" }}>\r\n            {error}\r\n          </p>\r\n        )}\r\n\r\n        <div\r\n          style={{\r\n            marginTop: \"1rem\",\r\n            borderTop: \"1px solid #ccc\",\r\n            paddingTop: \"1rem\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => signIn(\"google\")}\r\n            style={{\r\n              padding: \"1rem 2rem\",\r\n              fontSize: \"1.2rem\",\r\n              backgroundColor: \"#4285F4\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: 8,\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Googleアカウントでログイン\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yukia/Downloads/koku-lesson-planner/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}