{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yukia/Downloads/koku-lesson-planner/app/practice/add/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, ChangeEvent, FormEvent } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { doc, setDoc } from \"firebase/firestore\";\r\nimport { db } from \"../../../firebaseConfig\";\r\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\n\r\ntype BoardImage = { name: string; src: string }; // srcはFirebase StorageのURL\r\ntype PracticeRecord = {\r\n  lessonId: string;\r\n  practiceDate: string;\r\n  reflection: string;\r\n  boardImages: BoardImage[];\r\n  lessonTitle: string;\r\n};\r\ntype LessonPlan = {\r\n  id: string;\r\n  result?: string | object;\r\n};\r\n\r\nexport default function PracticeAddPage() {\r\n  const router = useRouter();\r\n  const { id } = useParams() as { id: string };\r\n\r\n  const [practiceDate, setPracticeDate] = useState(\"\");\r\n  const [reflection, setReflection] = useState(\"\");\r\n  const [boardImages, setBoardImages] = useState<BoardImage[]>([]);\r\n  const [lessonTitle, setLessonTitle] = useState(\"\");\r\n  const [record, setRecord] = useState<PracticeRecord | null>(null);\r\n  const [lessonPlan, setLessonPlan] = useState<LessonPlan | null>(null);\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const storage = getStorage();\r\n\r\n  useEffect(() => {\r\n    const plansJson = localStorage.getItem(\"lessonPlans\") || \"[]\";\r\n    let plans: LessonPlan[];\r\n    try {\r\n      plans = JSON.parse(plansJson) as LessonPlan[];\r\n    } catch {\r\n      plans = [];\r\n    }\r\n    const plan = plans.find((p) => p.id === id) || null;\r\n    setLessonPlan(plan);\r\n\r\n    if (plan && plan.result) {\r\n      if (typeof plan.result === \"string\") {\r\n        const firstLine = plan.result.split(\"\\n\")[0].replace(/^【単元名】\\s*/, \"\");\r\n        setLessonTitle(firstLine);\r\n      } else if (typeof plan.result === \"object\") {\r\n        const unitName = (plan.result as any)[\"単元名\"];\r\n        setLessonTitle(typeof unitName === \"string\" ? unitName : \"\");\r\n      } else {\r\n        setLessonTitle(\"\");\r\n      }\r\n    } else {\r\n      setLessonTitle(\"\");\r\n    }\r\n\r\n    const recsJson = localStorage.getItem(\"practiceRecords\") || \"[]\";\r\n    let recs: PracticeRecord[];\r\n    try {\r\n      recs = JSON.parse(recsJson) as PracticeRecord[];\r\n    } catch {\r\n      recs = [];\r\n    }\r\n    const existing = recs.find((r) => r.lessonId === id) || null;\r\n    if (existing) {\r\n      setPracticeDate(existing.practiceDate);\r\n      setReflection(existing.reflection);\r\n      setBoardImages(existing.boardImages);\r\n      setRecord({ ...existing, lessonTitle: existing.lessonTitle || \"\" });\r\n    }\r\n  }, [id]);\r\n\r\n  const handleFileChange = async (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (!e.target.files) return;\r\n    setUploading(true);\r\n    const files = Array.from(e.target.files);\r\n    const uploadedImages: BoardImage[] = [];\r\n    try {\r\n      for (const file of files) {\r\n        const storageRef = ref(storage, `practiceImages/${id}/${Date.now()}_${file.name}`);\r\n        const snapshot = await uploadBytes(storageRef, file);\r\n        const url = await getDownloadURL(snapshot.ref);\r\n        uploadedImages.push({ name: file.name, src: url });\r\n      }\r\n      setBoardImages((prev) => [...prev, ...uploadedImages]);\r\n    } catch (error) {\r\n      alert(\"画像のアップロードに失敗しました。\");\r\n      console.error(error);\r\n    } finally {\r\n      setUploading(false);\r\n      e.target.value = \"\";\r\n    }\r\n  };\r\n\r\n  const handleRemoveImage = (i: number) =>\r\n    setBoardImages((prev) => prev.filter((_, idx) => idx !== i));\r\n\r\n  const handlePreview = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setRecord({\r\n      lessonId: id,\r\n      practiceDate,\r\n      reflection,\r\n      boardImages,\r\n      lessonTitle,\r\n    });\r\n  };\r\n\r\n  const handlePdfDownload = async () => {\r\n    if (!record || !lessonPlan) {\r\n      alert(\"プレビューを作成してください\");\r\n      return;\r\n    }\r\n    const { default: html2pdf } = await import(\"html2pdf.js\");\r\n    const el = document.getElementById(\"practice-preview\");\r\n    if (!el) return;\r\n    await html2pdf()\r\n      .from(el)\r\n      .set({\r\n        margin: 10,\r\n        filename: `${lessonTitle}_実践記録.pdf`,\r\n        jsPDF: { unit: \"mm\", format: \"a4\", orientation: \"portrait\" },\r\n        html2canvas: { scale: 2 },\r\n        pagebreak: { mode: [\"avoid-all\"] },\r\n      })\r\n      .save();\r\n  };\r\n\r\n  const handleSaveAll = async () => {\r\n    if (!record || !lessonPlan) {\r\n      alert(\"プレビューを作成してください\");\r\n      return;\r\n    }\r\n\r\n    // localStorage保存（画像はURLなので容量問題なし）\r\n    const recsJson = localStorage.getItem(\"practiceRecords\") || \"[]\";\r\n    let recs: PracticeRecord[];\r\n    try {\r\n      recs = JSON.parse(recsJson) as PracticeRecord[];\r\n    } catch {\r\n      recs = [];\r\n    }\r\n    const idx = recs.findIndex((r) => r.lessonId === id);\r\n    if (idx >= 0) recs[idx] = record;\r\n    else recs.push(record);\r\n\r\n    try {\r\n      localStorage.setItem(\"practiceRecords\", JSON.stringify(recs));\r\n    } catch (e) {\r\n      alert(\"localStorageへの保存に失敗しました。容量オーバーかもしれません。\");\r\n      console.error(e);\r\n      return;\r\n    }\r\n\r\n    // Firestoreに保存\r\n    try {\r\n      await setDoc(doc(db, \"practice_records\", id), record);\r\n    } catch (e) {\r\n      alert(\"Firestoreへの保存に失敗しました。\");\r\n      console.error(e);\r\n      return;\r\n    }\r\n\r\n    // PDF生成\r\n    const { default: html2pdf } = await import(\"html2pdf.js\");\r\n    const el = document.getElementById(\"practice-preview\");\r\n    if (!el) {\r\n      alert(\"プレビューエリアが見つかりません。\");\r\n      return;\r\n    }\r\n    let pdfBlob: Blob;\r\n    try {\r\n      pdfBlob = await html2pdf()\r\n        .from(el)\r\n        .set({\r\n          margin: 10,\r\n          jsPDF: { unit: \"mm\", format: \"a4\", orientation: \"portrait\" },\r\n          html2canvas: { scale: 2 },\r\n          pagebreak: { mode: [\"avoid-all\"] },\r\n        })\r\n        .outputPdf(\"blob\");\r\n    } catch (e) {\r\n      alert(\"PDF生成に失敗しました。\");\r\n      console.error(e);\r\n      return;\r\n    }\r\n\r\n    // Driveアップロード\r\n    try {\r\n      const { uploadToDrive } = await import(\"../../../../lib/drive\");\r\n      const folderId = process.env.NEXT_PUBLIC_GOOGLE_DRIVE_FOLDER_ID;\r\n      if (!folderId) {\r\n        alert(\"DriveフォルダIDが未設定です\");\r\n        return;\r\n      }\r\n      await uploadToDrive(pdfBlob, `${lessonTitle}_実践記録.pdf`, \"application/pdf\", folderId);\r\n    } catch (e) {\r\n      alert(\"Driveへのアップロードに失敗しました。\");\r\n      console.error(e);\r\n      return;\r\n    }\r\n\r\n    alert(\"保存＋PDF生成＋Drive保存が完了しました！\");\r\n    router.push(\"/practice/history\");\r\n  };\r\n\r\n  const navBtn: React.CSSProperties = {\r\n    padding: \"8px 12px\",\r\n    backgroundColor: \"#1976d2\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: 6,\r\n    cursor: \"pointer\",\r\n    whiteSpace: \"nowrap\",\r\n    marginRight: 8,\r\n  };\r\n  const sectionStyle: React.CSSProperties = {\r\n    border: \"2px solid #1976d2\",\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    marginBottom: 16,\r\n  };\r\n  const imgBox: React.CSSProperties = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    border: \"1px solid #ccc\",\r\n    padding: 8,\r\n    borderRadius: 6,\r\n  };\r\n  const rmBtn: React.CSSProperties = {\r\n    marginTop: 4,\r\n    padding: 4,\r\n    backgroundColor: \"#e53935\",\r\n    color: \"white\",\r\n    border: \"none\",\r\n    borderRadius: 4,\r\n    cursor: \"pointer\",\r\n  };\r\n  const actionBtn: React.CSSProperties = {\r\n    padding: 12,\r\n    backgroundColor: \"#4CAF50\",\r\n    color: \"#fff\",\r\n    border: \"none\",\r\n    borderRadius: 6,\r\n    width: \"100%\",\r\n    cursor: \"pointer\",\r\n    marginBottom: 8,\r\n  };\r\n  const pdfBtn: React.CSSProperties = { ...actionBtn, backgroundColor: \"#607D8B\" };\r\n\r\n  return (\r\n    <main style={{ padding: 24, maxWidth: 800, margin: \"auto\", fontFamily: \"sans-serif\" }}>\r\n      <nav style={{ display: \"flex\", overflowX: \"auto\", marginBottom: 24 }}>\r\n        <button onClick={() => router.push(\"/\")} style={navBtn}>\r\n          🏠 ホーム\r\n        </button>\r\n        <button onClick={() => router.push(\"/plan\")} style={navBtn}>\r\n          📋 授業作成\r\n        </button>\r\n        <button onClick={() => router.push(\"/plan/history\")} style={navBtn}>\r\n          📖 計画履歴\r\n        </button>\r\n        <button onClick={() => router.push(\"/practice/history\")} style={navBtn}>\r\n          📷 実践履歴\r\n        </button>\r\n        <button onClick={() => router.push(\"/models/create\")} style={navBtn}>\r\n          ✏️ 教育観作成\r\n        </button>\r\n        <button onClick={() => router.push(\"/models\")} style={navBtn}>\r\n          📚 教育観一覧\r\n        </button>\r\n        <button onClick={() => router.push(\"/models\")} style={navBtn}>\r\n          🕒 教育観履歴\r\n        </button>\r\n      </nav>\r\n\r\n      <h2>実践記録作成・編集</h2>\r\n\r\n      <form onSubmit={handlePreview}>\r\n        <div style={sectionStyle}>\r\n          <label>\r\n            実施日：\r\n            <br />\r\n            <input\r\n              type=\"date\"\r\n              value={practiceDate}\r\n              required\r\n              onChange={(e) => setPracticeDate(e.target.value)}\r\n              style={{ width: \"100%\", padding: 8 }}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <div style={sectionStyle}>\r\n          <label>\r\n            振り返り：\r\n            <br />\r\n            <textarea\r\n              value={record?.reflection ?? reflection}\r\n              required\r\n              onChange={(e) => setReflection(e.target.value)}\r\n              rows={6}\r\n              style={{ width: \"100%\", padding: 8 }}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <label style={{ display: \"block\", marginBottom: 8, cursor: \"pointer\" }}>\r\n          <span style={{ ...navBtn, width: \"100%\", textAlign: \"center\" }}>📷 板書写真をアップロード</span>\r\n          <input\r\n            type=\"file\"\r\n            multiple\r\n            accept=\"image/*\"\r\n            onChange={handleFileChange}\r\n            style={{ display: \"none\" }}\r\n          />\r\n        </label>\r\n\r\n        <div style={{ display: \"flex\", gap: 8, flexWrap: \"wrap\", marginBottom: 16 }}>\r\n          {boardImages.map((img, i) => (\r\n            <div key={img.name + i} style={imgBox}>\r\n              <img\r\n                src={img.src}\r\n                alt={img.name}\r\n                style={{ width: 160, height: 160, objectFit: \"cover\", borderRadius: 4 }}\r\n              />\r\n              <button onClick={() => handleRemoveImage(i)} style={rmBtn}>\r\n                🗑\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <button type=\"submit\" style={{ ...actionBtn, marginBottom: 16 }} disabled={uploading}>\r\n          {uploading ? \"アップロード中...\" : \"プレビューを作成\"}\r\n        </button>\r\n      </form>\r\n\r\n      {record && (\r\n        <>\r\n          <section\r\n            id=\"practice-preview\"\r\n            style={{\r\n              marginBottom: 16,\r\n              padding: 24,\r\n              border: \"1px solid #ccc\",\r\n              borderRadius: 6,\r\n              backgroundColor: \"#fff\",\r\n              fontSize: 14,\r\n              lineHeight: 1.6,\r\n              fontFamily: \"'Hiragino Kaku Gothic ProN', sans-serif\",\r\n            }}\r\n          >\r\n            <h2>\r\n              {lessonPlan?.result && typeof lessonPlan.result === \"object\"\r\n                ? (lessonPlan.result as any)[\"単元名\"]\r\n                : lessonTitle}\r\n            </h2>\r\n\r\n            {lessonPlan?.result && typeof lessonPlan.result === \"object\" && (\r\n              <>\r\n                <section style={{ marginBottom: 16 }}>\r\n                  <h3>授業の概要</h3>\r\n                  <p>\r\n                    <strong>教科書名：</strong>\r\n                    {(lessonPlan.result as any)[\"教科書名\"]}\r\n                  </p>\r\n                  <p>\r\n                    <strong>学年：</strong>\r\n                    {(lessonPlan.result as any)[\"学年\"]}\r\n                  </p>\r\n                  <p>\r\n                    <strong>ジャンル：</strong>\r\n                    {(lessonPlan.result as any)[\"ジャンル\"]}\r\n                  </p>\r\n                  <p>\r\n                    <strong>授業時間数：</strong>\r\n                    {(lessonPlan.result as any)[\"授業時間数\"]}時間\r\n                  </p>\r\n                  <p>\r\n                    <strong>育てたい子どもの姿：</strong>\r\n                    {(lessonPlan.result as any)[\"育てたい子どもの姿\"]}\r\n                  </p>\r\n                </section>\r\n\r\n                <section style={{ marginBottom: 16 }}>\r\n                  <h3>単元の目標</h3>\r\n                  <p>{(lessonPlan.result as any)[\"単元の目標\"]}</p>\r\n                </section>\r\n\r\n                {(lessonPlan.result as any)[\"評価の観点\"] && (\r\n                  <section style={{ marginBottom: 16 }}>\r\n                    <h3>評価の観点</h3>\r\n                    {Object.entries((lessonPlan.result as any)[\"評価の観点\"]).map(([k, v]) => (\r\n                      <div key={k}>\r\n                        <strong>{k}</strong>\r\n                        <ul>\r\n                          {(v as string[]).map((item, i) => (\r\n                            <li key={i}>{item}</li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    ))}\r\n                  </section>\r\n                )}\r\n\r\n                {(lessonPlan.result as any)[\"言語活動の工夫\"] && (\r\n                  <section style={{ marginBottom: 16 }}>\r\n                    <h3>言語活動の工夫</h3>\r\n                    <p>{(lessonPlan.result as any)[\"言語活動の工夫\"]}</p>\r\n                  </section>\r\n                )}\r\n\r\n                {(lessonPlan.result as any)[\"授業の流れ\"] && (\r\n                  <section style={{ marginBottom: 16 }}>\r\n                    <h3>授業の流れ</h3>\r\n                    <ul>\r\n                      {Object.entries((lessonPlan.result as any)[\"授業の流れ\"]).map(\r\n                        ([key, value]) => (\r\n                          <li key={key}>\r\n                            <strong>{key}：</strong>\r\n                            {value as string}\r\n                          </li>\r\n                        )\r\n                      )}\r\n                    </ul>\r\n                  </section>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            <section style={{ marginTop: 24 }}>\r\n              <h3>実施記録</h3>\r\n              <p>\r\n                <strong>実施日：</strong> {record.practiceDate}\r\n              </p>\r\n              <p>\r\n                <strong>振り返り：</strong>\r\n              </p>\r\n              <p>{record.reflection}</p>\r\n              {record.boardImages.length > 0 && (\r\n                <div style={{ marginTop: 12 }}>\r\n                  <strong>板書写真：</strong>\r\n                  <div style={{ display: \"flex\", gap: 8, flexWrap: \"wrap\", marginTop: 8 }}>\r\n                    {record.boardImages.map((img, i) => (\r\n                      <img\r\n                        key={img.name + i}\r\n                        src={img.src}\r\n                        alt={img.name}\r\n                        style={{\r\n                          width: 160,\r\n                          height: 160,\r\n                          objectFit: \"cover\",\r\n                          borderRadius: 4,\r\n                          border: \"1px solid #ccc\",\r\n                        }}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </section>\r\n          </section>\r\n\r\n          <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\r\n            <button onClick={handleSaveAll} style={actionBtn}>\r\n              💾 一括保存（ローカル・Firestore・Drive）\r\n            </button>\r\n            <button onClick={handlePdfDownload} style={pdfBtn}>\r\n              📄 PDFをダウンロード\r\n            </button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}