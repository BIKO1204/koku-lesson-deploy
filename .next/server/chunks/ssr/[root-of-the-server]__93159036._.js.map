{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/yukia/Downloads/koku-lesson-planner/app/models/create/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\ntype EducationModel = {\r\n  id: string;\r\n  name: string;\r\n  philosophy: string;\r\n  evaluationFocus: string;\r\n  languageFocus: string;\r\n  childFocus: string;\r\n  updatedAt: string;\r\n};\r\n\r\ntype EducationHistory = EducationModel & {\r\n  note: string;\r\n};\r\n\r\nexport default function CreateModelPage() {\r\n  const router = useRouter();\r\n\r\n  const [models, setModels] = useState<EducationModel[]>([]);\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    philosophy: \"\",\r\n    evaluationFocus: \"\",\r\n    languageFocus: \"\",\r\n    childFocus: \"\",\r\n    note: \"\",\r\n  });\r\n  const [editId, setEditId] = useState<string | null>(null);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem(\"styleModels\");\r\n    if (stored) setModels(JSON.parse(stored));\r\n  }, []);\r\n\r\n  const handleChange = (field: keyof typeof form, value: string) => {\r\n    setForm((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setError(\"\");\r\n    if (\r\n      !form.name.trim() ||\r\n      !form.philosophy.trim() ||\r\n      !form.evaluationFocus.trim() ||\r\n      !form.languageFocus.trim() ||\r\n      !form.childFocus.trim()\r\n    ) {\r\n      setError(\"すべての必須項目を入力してください。\");\r\n      return;\r\n    }\r\n\r\n    const now = new Date().toISOString();\r\n    let updatedModels: EducationModel[];\r\n\r\n    if (editId) {\r\n      updatedModels = models.map((m) =>\r\n        m.id === editId\r\n          ? { ...m, ...form, updatedAt: now }\r\n          : m\r\n      );\r\n    } else {\r\n      updatedModels = [\r\n        {\r\n          id: uuidv4(),\r\n          name: form.name.trim(),\r\n          philosophy: form.philosophy.trim(),\r\n          evaluationFocus: form.evaluationFocus.trim(),\r\n          languageFocus: form.languageFocus.trim(),\r\n          childFocus: form.childFocus.trim(),\r\n          updatedAt: now,\r\n        },\r\n        ...models,\r\n      ];\r\n    }\r\n\r\n    localStorage.setItem(\"styleModels\", JSON.stringify(updatedModels));\r\n    setModels(updatedModels);\r\n\r\n    const newHistoryEntry: EducationHistory = {\r\n      id: editId || updatedModels[0].id,\r\n      name: form.name.trim(),\r\n      philosophy: form.philosophy.trim(),\r\n      evaluationFocus: form.evaluationFocus.trim(),\r\n      languageFocus: form.languageFocus.trim(),\r\n      childFocus: form.childFocus.trim(),\r\n      updatedAt: now,\r\n      note: form.note.trim() || \"（更新時にメモなし）\",\r\n    };\r\n    const prevHistory = JSON.parse(localStorage.getItem(\"educationStylesHistory\") || \"[]\") as EducationHistory[];\r\n    const updatedHistory = [newHistoryEntry, ...prevHistory];\r\n    localStorage.setItem(\"educationStylesHistory\", JSON.stringify(updatedHistory));\r\n\r\n    alert(\"✅ ローカル保存が完了しました！\");\r\n    router.push(\"/models/history\");\r\n  };\r\n\r\n  // ヒントテキスト用スタイル（上下の余白増やした）\r\n  const hintStyle: React.CSSProperties = {\r\n    fontSize: \"0.85rem\",\r\n    color: \"#666\",\r\n    marginTop: \"6px\",     // ←ここを増やして枠線との重なり防止\r\n    marginBottom: \"16px\", // ←上下にゆとりを持たせて読みやすく\r\n    fontStyle: \"italic\",\r\n    userSelect: \"none\",\r\n  };\r\n\r\n  // 入力欄の共通スタイル（幅を少し狭め）\r\n  const inputBaseStyle: React.CSSProperties = {\r\n    width: \"95%\",           // 100% → 95%にして少し幅狭く\r\n    padding: \"0.8rem\",\r\n    fontSize: \"1.1rem\",\r\n    borderRadius: 6,\r\n    border: \"1px solid #ccc\",\r\n    marginTop: 4,\r\n  };\r\n\r\n  return (\r\n    <main\r\n      style={{\r\n        padding: \"2rem 4rem\",\r\n        width: \"100%\",\r\n        maxWidth: 900,  // 1200 → 900に縮小してページの幅感を整えました\r\n        margin: \"0 auto\",\r\n        fontFamily: \"sans-serif\",\r\n      }}\r\n    >\r\n      {/* ナビゲーション */}\r\n      <nav\r\n        style={{\r\n          display: \"flex\",\r\n          gap: 12,\r\n          marginBottom: 24,\r\n          overflowX: \"auto\",\r\n        }}\r\n      >\r\n        {[\r\n          [\"/\", \"🏠 ホーム\"],\r\n          [\"/plan\", \"📋 授業作成\"],\r\n          [\"/plan/history\", \"📖 計画履歴\"],\r\n          [\"/practice/history\", \"📷 実践履歴\"],\r\n          [\"/models/create\", \"✏️ 教育観作成\"],\r\n          [\"/models\", \"📚 教育観一覧\"],\r\n          [\"/models/history\", \"🕒 教育観履歴\"],\r\n        ].map(([href, label]) => (\r\n          <Link\r\n            key={href}\r\n            href={href}\r\n            style={{\r\n              padding: \"8px 12px\",\r\n              backgroundColor: href === \"/models/create\" ? \"#4CAF50\" : \"#1976d2\",\r\n              color: \"white\",\r\n              borderRadius: 6,\r\n              textDecoration: \"none\",\r\n              whiteSpace: \"nowrap\",\r\n            }}\r\n          >\r\n            {label}\r\n          </Link>\r\n        ))}\r\n      </nav>\r\n\r\n      <h1\r\n        style={{\r\n          fontSize: \"2rem\",\r\n          marginBottom: \"1.5rem\",\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        {editId ? \"✏️ 教育観モデルを編集\" : \"✏️ 新しい教育観モデルを作成\"}\r\n      </h1>\r\n\r\n      {error && (\r\n        <p\r\n          style={{\r\n            color: \"red\",\r\n            marginBottom: \"1rem\",\r\n            textAlign: \"center\",\r\n          }}\r\n        >\r\n          {error}\r\n        </p>\r\n      )}\r\n\r\n      <section\r\n        style={{\r\n          backgroundColor: \"#f9f9f9\",\r\n          padding: 24,\r\n          borderRadius: 8,\r\n          boxShadow: \"0 2px 6px rgba(0,0,0,0.1)\",\r\n        }}\r\n      >\r\n        <label style={{ display: \"block\", marginBottom: 12 }}>\r\n          モデル名（必須）：\r\n          <input\r\n            type=\"text\"\r\n            value={form.name}\r\n            onChange={(e) => handleChange(\"name\", e.target.value)}\r\n            style={inputBaseStyle}\r\n          />\r\n          <div style={hintStyle}>例）面白い授業、対話型授業、音読重視など</div>\r\n        </label>\r\n\r\n        <label style={{ display: \"block\", marginBottom: 12 }}>\r\n          教育観（必須）：\r\n          <textarea\r\n            rows={2}\r\n            value={form.philosophy}\r\n            onChange={(e) => handleChange(\"philosophy\", e.target.value)}\r\n            style={inputBaseStyle}\r\n          />\r\n          <div style={hintStyle}>例）子ども一人ひとりの思いや考えを尊重し、対話を通して、自分の思いや考えを広げさせたり、深めさせたりする。</div>\r\n        </label>\r\n\r\n        <label style={{ display: \"block\", marginBottom: 12 }}>\r\n          評価観点の重視点（必須）：\r\n          <textarea\r\n            rows={2}\r\n            value={form.evaluationFocus}\r\n            onChange={(e) => handleChange(\"evaluationFocus\", e.target.value)}\r\n            style={inputBaseStyle}\r\n          />\r\n          <div style={hintStyle}>例）思考力・判断力を育てる評価を重視し、子ども同士の対話や個人の振り返りから評価する。</div>\r\n        </label>\r\n\r\n        <label style={{ display: \"block\", marginBottom: 12 }}>\r\n          言語活動の重視点（必須）：\r\n          <textarea\r\n            rows={2}\r\n            value={form.languageFocus}\r\n            onChange={(e) => handleChange(\"languageFocus\", e.target.value)}\r\n            style={inputBaseStyle}\r\n          />\r\n          <div style={hintStyle}>例）対話や発表の機会を多く設け、自分の言葉で考えを伝える力を育成する。</div>\r\n        </label>\r\n\r\n        <label style={{ display: \"block\", marginBottom: 12 }}>\r\n          育てたい子どもの姿（必須）：\r\n          <textarea\r\n            rows={2}\r\n            value={form.childFocus}\r\n            onChange={(e) => handleChange(\"childFocus\", e.target.value)}\r\n            style={inputBaseStyle}\r\n          />\r\n          <div style={hintStyle}>例）自分で進んで思いや考えを表現できる子ども、友だちの意見を大切にする子ども。</div>\r\n        </label>\r\n\r\n        <label style={{ display: \"block\", marginBottom: 24 }}>\r\n          更新メモ（任意）：\r\n          <textarea\r\n            rows={2}\r\n            value={form.note}\r\n            onChange={(e) => handleChange(\"note\", e.target.value)}\r\n            style={{\r\n              ...inputBaseStyle,\r\n              fontStyle: \"italic\",\r\n            }}\r\n          />\r\n          <div style={hintStyle}>例）今年度の授業で重視したい点や変更点などを書いてください。</div>\r\n        </label>\r\n\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <button\r\n            onClick={handleSave}\r\n            style={{\r\n              padding: \"0.8rem 2rem\",\r\n              fontSize: \"1.1rem\",\r\n              backgroundColor: \"#4CAF50\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: 8,\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            {editId ? \"更新して保存\" : \"作成して保存\"}\r\n          </button>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}